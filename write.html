<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Write Entry</title>

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/global.css">
</head>
<body>
  <div class="container">
    <h1 id="bookTitle"></h1>
    <button onclick="window.location.href = 'index.html';">⬅️ Go Back</button>
    |
    <button onclick="exportBookToHtml()">📘 Export to .html</button>
    |
    <button onclick="exportLocalStorage()">📤 Export backup</button>
    <button title="Careful, this will replace your current data by the backup data" onclick="openImportModal()">📥 Import backup</button>
    <hr />
    
    <form class="mt-4">
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>🖋️ Entry</th>
          </tr>
        </thead>
        <tbody id="entryItem">
          <tr>
            <td style="width: 30%">
              <span id="entryIndexPlaceholder">1</span>
              <br />
              <hr />
              <button type="button" class="action-button" onclick="addEntryButton('new')">➕ entry</button>
              <button type="button" class="action-button" onclick="addEntryButton('existing')">🔗 existing entry</button>
            </td>
            <td>
              📛 Title:<br />
              <input type="text" class="form-control" id="entryTitle" maxlength="40">
              🖋️ Text:<br />
              <textarea class="form-control entry-text" id="entryText"></textarea>
            </td>
          </tr>
          <tr>
            <th colspan="2">👀 Preview</th>
          </tr>
          <tr>
            <td colspan="2" class="previewPlaceHolder" id="entryTextPlaceholder">
            </td>
          </tr>
        </tbody>
      </table>
      
      <button type="submit" class="btn btn-primary">💾 Save Entry</button>
    </form>
    <br />
    <br />
    <div class="tree">
      <h3>Tree from current entry</h3>
      <ul id="entryTree"></ul>
    </div>
    <div class="tree">
      <h3>Complete tree from first entry</h3>
      <ul id="entryTreeComplete"></ul>
    </div>
    <br />
    <br />
    <div class="help">
      <span class="informational-text">
        ❕ HELP:<br />
        <ul>
          <li>[ENTRY(N)] - point to another entry where N should be the entry number #</li>
          <li>🔴 - This entry is not pointing to any other entry (dead entry)</li>
          <li>🟢 - This entry is pointing to other entries</li>
       </ul>
      </span>
    </div>
  </div>

  <script src="js/booksmanager.js"></script>
  <script src="js/global.js"></script>
  <script src="js/entry.js"></script>
  <script src="js/entryTree.js"></script>
  <script src="js/write.js"></script>
</body>
</html>
